<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">#==============================================================================<br /># VX Ace Star Passability Bug Fix<br />#   by NeonBlack<br /># -- Уровень: Простой, Нормальный<br /># -- Требования: нет<br /># -- This simply checks if the tile is a star before checking passability.  If the tile is <br /># a star and it is passable, it then checks the tile UNDER it.  If not, it returns false <br /># as always. This prevents everything that is a star tile from being passable.<br />#<br /># -- Original Topic:<br /># [url]http://forums.rpgmakerweb.com/index....abilities-bug/[/url]<br />#==============================================================================<br /><br />class Game_Map<br /><br />  def check_passage(x, y, bit)<br />        all_tiles(x, y).each do |tile_id|<br />          flag = tileset.flags[tile_id]<br />          if flag &amp; 0x10 != 0                              # [☆]: Не влияет на проход<br />                next             if flag &amp; bit == 0      # [○] : Проходимый, но звезда<br />                return false if flag &amp; bit == bit   # [×] : Непроходимый<br />          else<br />                return true  if flag &amp; bit == 0  # [○] : Проходимый<br />                return false if flag &amp; bit == bit   # [×] : Непроходимый<br />          end<br />        end<br />        return false                                              # Непроходимый<br />  end<br />end  </span></p></body></html>